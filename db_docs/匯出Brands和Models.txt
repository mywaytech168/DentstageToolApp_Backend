INSERT INTO brands (BrandName)
SELECT DISTINCT Brand
FROM quatations
WHERE Brand IS NOT NULL AND Brand <> '';

INSERT INTO models (BrandId, ModelName)
SELECT b.BrandId, q.Model
FROM quatations q
JOIN brands b ON q.Brand = b.BrandName
WHERE q.Model IS NOT NULL AND q.Model <> ''
GROUP BY b.BrandId, q.Model;

ALTER TABLE quatations
    ADD COLUMN BrandId INT NULL,
    ADD COLUMN ModelId INT NULL;

UPDATE quatations q
JOIN brands b ON q.Brand = b.BrandName
SET q.BrandId = b.BrandId;

UPDATE quatations q
JOIN models m ON q.Model = m.ModelName
JOIN brands b ON q.Brand = b.BrandName AND m.BrandId = b.BrandId
SET q.ModelId = m.ModelId;

SELECT q.QuotationUID, q.Brand, q.Model, b.BrandId, m.ModelId
FROM quatations q
LEFT JOIN brands b ON q.BrandId = b.BrandId
LEFT JOIN models m ON q.ModelId = m.ModelId
LIMIT 20;