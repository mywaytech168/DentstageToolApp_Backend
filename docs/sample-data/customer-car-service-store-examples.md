# 客戶與車輛、品牌、服務類別與店家對應範例

> 本文件示範在建立估價單或維修工單前，如何整理客戶、車輛、品牌、服務類別與店家等主檔資訊。所有範例皆可作為前端填寫測試資料或後端建立 mock 測資時的參考。

## 範例一：一般客戶預約鈑金修復

- **客戶資料**
  - 客戶 UID：`CUS-202501-0001`
  - 客戶名稱：林先生
  - 連絡電話：0912-345-678
  - 類別：一般客戶
  - 來源：Facebook 廣告
- **車輛資料**
  - 車輛 UID：`CAR-202501-0801`
  - 車牌號碼：ABC-1234
  - 車款：Toyota Corolla Altis 1.8
  - 年份：2022
  - 車色：珍珠白
- **品牌**：Toyota
- **服務類別**：鈑金修復（小凹痕處理）
- **店家**
  - 店家 UID：`SHOP-TP-001`
  - 店家名稱：台北光復服務中心
  - 地址：台北市信義區光復南路 100 號
  - 聯絡電話：02-1234-5678
- **對應說明**：
  - 此客戶為首次預約，透過 Facebook 廣告導入。
  - 車輛屬於 Toyota 品牌，安排於台北店由鈑金組處理小凹痕。

## 範例二：企業客戶車隊烤漆服務

- **客戶資料**
  - 客戶 UID：`CUS-202501-0008`
  - 客戶名稱：展毅物流股份有限公司
  - 連絡電話：02-5566-7788
  - 類別：企業客戶
  - 來源：合作伙伴介紹
- **車輛資料**
  - 車輛 UID：`CAR-202501-0905`
  - 車牌號碼：KLB-5678
  - 車款：Ford Transit Custom
  - 年份：2020
  - 車色：銀色
- **品牌**：Ford
- **服務類別**：全車烤漆（車隊保養方案）
- **店家**
  - 店家 UID：`SHOP-TN-002`
  - 店家名稱：台南車隊專區
  - 地址：台南市永康區中華路 200 號
  - 聯絡電話：06-876-5432
- **對應說明**：
  - 此客戶為企業合作，店內需保留車隊方案折扣設定。
  - 車輛為 Ford 商用車，需安排於台南車隊專區進行完整烤漆服務。

## 範例三：保險公司轉介玻璃更換

- **客戶資料**
  - 客戶 UID：`CUS-202501-0015`
  - 客戶名稱：陳小姐
  - 連絡電話：0987-654-321
  - 類別：保險轉介
  - 來源：和泰產險合作方案
- **車輛資料**
  - 車輛 UID：`CAR-202312-0603`
  - 車牌號碼：XYZ-9012
  - 車款：Lexus NX300h
  - 年份：2021
  - 車色：曜石黑
- **品牌**：Lexus
- **服務類別**：前擋風玻璃更換
- **店家**
  - 店家 UID：`SHOP-KH-003`
  - 店家名稱：高雄旗艦維修中心
  - 地址：高雄市前鎮區成功路 500 號
  - 聯絡電話：07-345-6789
- **對應說明**：
  - 案件由保險公司轉介，需要紀錄保險理賠相關文件。
  - Lexus 品牌需使用原廠玻璃，安排於高雄旗艦中心進行更換。

## 範例四：老客戶美容鍍膜加購

- **客戶資料**
  - 客戶 UID：`CUS-202401-0022`
  - 客戶名稱：王先生
  - 連絡電話：0933-888-999
  - 類別：VIP 老客戶
  - 來源：現場回訪
- **車輛資料**
  - 車輛 UID：`CAR-202401-0407`
  - 車牌號碼：BDF-3344
  - 車款：BMW 330i M Sport
  - 年份：2023
  - 車色：礦石灰
- **品牌**：BMW
- **服務類別**：車體美容鍍膜（含內裝清潔）
- **店家**
  - 店家 UID：`SHOP-HSZ-004`
  - 店家名稱：新竹東區尊榮館
  - 地址：新竹市東區中央路 66 號
  - 聯絡電話：03-556-7788
- **對應說明**：
  - 老客戶回廠進行鍍膜保養，系統需帶出歷史折扣與回訪紀錄。
  - BMW 高階車型安排於新竹尊榮館，由美容組進行施工。

## 範例五：外縣市行動服務快速修復

- **客戶資料**
  - 客戶 UID：`CUS-202402-0030`
  - 客戶名稱：張小姐
  - 連絡電話：0977-222-333
  - 類別：一般客戶
  - 來源：Line 官方帳號
- **車輛資料**
  - 車輛 UID：`CAR-202402-0202`
  - 車牌號碼：PQE-7788
  - 車款：Nissan Kicks
  - 年份：2019
  - 車色：活力橘
- **品牌**：Nissan
- **服務類別**：行動快速修復（保險桿小刮傷）
- **店家**
  - 店家 UID：`SHOP-MB-005`
  - 店家名稱：行動服務車北區
  - 服務範圍：新北市、基隆市
  - 聯絡電話：0800-000-168
- **對應說明**：
  - 透過 Line 預約的行動服務，需排程行動服務車與技師行程。
  - Nissan Kicks 於客戶指定地點進行保險桿刮傷快速修復。

---

### 建議使用方式

1. 以上範例可直接套用至 Swagger / Postman 測試範本，用於建立估價單或維修工單。
2. 若需建立更多測試資料，可沿用 UID 命名規則（`CUS-YYYYMM-XXXX`、`CAR-YYYYMM-XXXX`、`SHOP-REGION-XXX`）。
3. 服務類別請依照系統維修分類維護（如鈑金、烤漆、美容、行動服務等），以確保報價與排程正確。
4. 需要串接品牌或店家主檔時，可新增對應欄位至資料庫或設定檔，以支援自動帶入顯示。

### Swagger / API 請求範例

下列 JSON 可直接貼入 `/api/quotations/create` 端點的 Swagger 測試視窗，示範如何把客戶、車輛、品牌、服務類別與店家資料一併帶入估價單建立流程：

```json
{
  "store": {
    "storeUid": "SHOP-TP-001",
    "technicianUid": "U_054C053D-FBA6-D843-9BDA-8C68E5027895",
    "source": "Facebook 廣告",
    "serviceCategory": {
      "categoryUid": "SC-202401-0001",
      "categoryName": "鈑金修復（小凹痕處理）"
    }
  },
  "car": {
    "carUid": "CAR-202501-0801",
    "plateNumber": "ABC-1234",
    "brand": {
      "brandUid": "BR-TOYOTA",
      "brandName": "Toyota"
    }
  },
  "customer": {
    "customerUid": "CUS-202501-0001",
    "customerName": "林先生",
    "customerType": "一般客戶"
  },
  "damages": [
    {
      "photos": "Ph_759F19C7-5D62-4DB2-8021-2371C3136F7B",
      "position": "右前葉子板",
      "dentStatus": "局部凹痕",
      "description": "需進行鈑金整形搭配烤漆",
      "estimatedAmount": 4500
    }
  ],
  "carBodyConfirmation": {
    "signaturePhotoUid": "Ph_D4FB9159-CD9E-473A-A3D9-0A8FDD0B76F8"
  },
  "maintenance": {
    "estimatedRestorationPercentage": 90
  }
}
```

> 提醒：若後端尚未實作品牌或服務類別欄位，可先在 Swagger 測試時保留結構以利後續對接，正式串接時再依實際欄位調整。
